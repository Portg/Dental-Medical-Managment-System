**牙科门诊管理系统**

表单设计规范

（原型设计补充文档）

版本号：V1.0

创建日期：2026年1月

目录

1\. 表单设计通用规范

1.1 表单布局原则

**【布局模式】**

  --------------- ---------------------- ---------------------------------
  **模式**        **适用场景**           **说明**

  垂直布局        简单表单，字段≤8个     标签在上，输入框在下，单列排列

  水平布局        复杂表单，需要分组     标签在左，输入框在右，可多列

  混合布局        信息录入型表单         分组标题+组内字段
  --------------- ---------------------- ---------------------------------

**【标签宽度】**

-   中文标签：固定100px（最多5个汉字）

-   超长标签：换行显示或使用Tooltip

-   对齐方式：标签右对齐，输入框左对齐

**【输入框宽度】**

  --------------- ------------------ ------------------------------------
  **类型**        **宽度**           **示例**

  短文本          200px              姓名、性别

  中文本          300px              手机号、地址

  长文本          100%或固定500px    备注、描述

  日期            200px              出生日期

  日期范围        400px              开始日期-结束日期

  下拉选择        根据选项内容       最小200px

  数字输入        150px              数量、金额
  --------------- ------------------ ------------------------------------

**【间距规范】**

-   字段行间距：24px

-   分组标题与字段：16px

-   分组之间：32px

-   表单底部操作栏：距表单24px，高度60px

1.2 必填与校验

**【必填标识】**

-   必填字段：标签前显示红色星号 \*

-   星号样式：color: #E74C3C, margin-right: 4px

**【校验时机】**

  --------------- -------------------------- -----------------------------
  **时机**        **说明**                   **适用场景**

  失去焦点时      字段blur时校验             格式校验（手机号、邮箱）

  输入时          实时校验                   字数限制、数字范围

  提交时          点击保存/提交时校验        必填校验、联合校验
  --------------- -------------------------- -----------------------------

**【错误提示】**

-   位置：输入框下方，左对齐

-   样式：红色文字 #E74C3C，字号12px

-   输入框：红色边框 1px solid #E74C3C

-   图标：输入框内右侧显示警告图标（可选）

1.3 表单状态

  ----------- ---------------------- ----------------------------------------
  **状态**    **触发条件**           **表现**

  新建        创建新记录             所有字段可编辑，显示默认值

  编辑        修改已有记录           可编辑字段可修改，不可编辑字段只读显示

  只读/查看   仅查看模式             所有字段只读，隐藏操作按钮

  禁用        无权限或条件不满足     字段灰色，不可交互
  ----------- ---------------------- ----------------------------------------

1.4 操作按钮规范

**【按钮位置】**

-   弹窗表单：弹窗底部右对齐

-   页面表单：底部固定栏，右对齐

-   侧边抽屉：抽屉底部，右对齐

**【按钮顺序（从右到左）】**

-   主操作（如「保存」「提交」）→ 次操作（如「保存草稿」）→ 取消

**【按钮文案】**

  ------------------ -------------------------- -------------------------
  **场景**           **主按钮**                 **次按钮**

  新建               保存 / 创建 / 提交         取消

  编辑               保存 / 更新                取消

  审批               通过 / 同意                驳回

  多步骤             下一步                     上一步

  确认弹窗           确定                       取消
  ------------------ -------------------------- -------------------------

2\. 患者信息录入表单

2.1 表单概述

  --------------- -------------------------------------------------------
  **属性**        **说明**

  表单编号        F-PAT-001

  表单名称        新建/编辑患者

  触发入口        患者列表页「新建患者」按钮、患者详情「编辑」按钮

  展示方式        中弹窗（宽度700px）或 右侧抽屉（宽度600px）

  表单模式        新建模式 / 编辑模式
  --------------- -------------------------------------------------------

2.2 表单布局

┌─────────────────────────────────────────────────────────────┐

│ 新建患者 \[×\] │

├─────────────────────────────────────────────────────────────┤

│ │

│ ┌─ 基本信息 ───────────────────────────────────────────┐ │

│ │ │ │

│ │ \* 姓名 \[\_\_\_\_\_\_\_\_\_\_\] \* 性别 ○男 ○女 │ │

│ │ │ │

│ │ \* 手机号 \[\_\_\_\_\_\_\_\_\_\_\_\] 出生日期
\[\_\_\_\_年\_\_月\_\_日\] │ │

│ │ │ │

│ │ 身份证号 \[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\] │ │

│ │ │ │

│ │ 地址
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]
│ │

│ │ │ │

│ └───────────────────────────────────────────────────────┘ │

│ │

│ ┌─ 来源信息 ───────────────────────────────────────────┐ │

│ │ │ │

│ │ 来源渠道 \[美团 ▼\] 来源详情 \[\_\_\_\_\_\_\_\_\_\_\] │ │

│ │ │ │

│ │ 推荐人 \[🔍 搜索患者\_\_\_\_\_\_\_\_\_\_\] │ │

│ │ │ │

│ └───────────────────────────────────────────────────────┘ │

│ │

│ ┌─ 健康信息 ──────────────────────────────── \[展开 ▼\] ─┐ │

│ │ │ │

│ │ 药物过敏 \[□青霉素 □头孢 □磺胺 □麻醉药 □其他\_\_\_\] │ │

│ │ │ │

│ │ 全身病史 \[□高血压 □糖尿病 □心脏病 □肝炎 □其他\_\_\_\] │ │

│ │ │ │

│ │ 当前用药
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]│
│

│ │ │ │

│ │ 特殊情况 □怀孕 □哺乳期 │ │

│ │ │ │

│ └───────────────────────────────────────────────────────┘ │

│ │

│ ┌─ 其他信息 ──────────────────────────────── \[展开 ▼\] ─┐ │

│ │ │ │

│ │ 患者标签 \[VIP ×\] \[过敏体质 ×\] \[+ 添加标签\] │ │

│ │ │ │

│ │ 备注
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]│
│

│ │
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]│
│

│ │ │ │

│ └───────────────────────────────────────────────────────┘ │

│ │

├─────────────────────────────────────────────────────────────┤

│ \[取消\] \[保存并继续\] \[保存\] │

└─────────────────────────────────────────────────────────────┘

2.3 字段详细定义

基本信息组

  ---------- ---------- ---------- ------------------ ------------ --------------------------
  **字段**   **类型**   **必填**   **校验规则**       **默认值**   **说明**

  姓名       文本输入   是         2-20字符，中英文   ---          

  性别       单选按钮   是         ---                男           男/女两个选项

  手机号     文本输入   是         11位手机号格式     ---          实时格式校验

  出生日期   日期选择   否         不晚于今天         ---          选择后自动计算年龄显示

  身份证号   文本输入   否         18位身份证格式     ---          输入后自动提取生日和性别

  地址       文本输入   否         最长200字符        ---          
  ---------- ---------- ---------- ------------------ ------------ --------------------------

来源信息组

  ---------- ---------- ---------- ----------------------------------------------- ------------ ------------------------
  **字段**   **类型**   **必填**   **选项/校验**                                   **默认值**   **说明**

  来源渠道   下拉选择   否         美团/大众点评/朋友推荐/自然到店/电话咨询/其他   ---          

  来源详情   文本输入   否         最长100字符                                     ---          补充说明

  推荐人     搜索选择   否         搜索已有患者                                    ---          选择后显示姓名，可清除
  ---------- ---------- ---------- ----------------------------------------------- ------------ ------------------------

健康信息组（可折叠）

  ---------- ----------- ---------- ------------------------------------------------- ------------------------------------
  **字段**   **类型**    **必填**   **选项/校验**                                     **说明**

  药物过敏   多选+文本   否         预设：青霉素/头孢/磺胺/麻醉药/碘/乳胶 +           选中任意项后，患者卡片显示过敏标记
                                    其他输入框                                        

  全身病史   多选+文本   否         预设：高血压/糖尿病/心脏病/肝炎/传染病/血液病 +   
                                    其他输入框                                        

  当前用药   文本域      否         最长500字符                                       长期服用的药物

  怀孕       复选框      否         ---                                               女性患者显示

  哺乳期     复选框      否         ---                                               女性患者显示
  ---------- ----------- ---------- ------------------------------------------------- ------------------------------------

其他信息组（可折叠）

  ----------- ------------- ---------- ---------------------------------------------------
  **字段**    **类型**      **必填**   **校验/说明**

  患者标签    标签选择器    否         可多选预设标签，支持搜索，已选标签显示为Tag可删除

  备注        文本域        否         最长500字符，2-3行高度
  ----------- ------------- ---------- ---------------------------------------------------

2.4 交互说明

**【字段联动】**

  ---------------------------- ----------------------------------------------------
  **触发**                     **联动效果**

  输入身份证号                 自动解析出生日期填入「出生日期」，自动选择「性别」

  选择出生日期                 在日期右侧显示计算的年龄，如「35岁」

  选择性别为男                 隐藏「怀孕」「哺乳期」字段

  选择来源渠道为「朋友推荐」   「推荐人」字段变为必填

  选择药物过敏任意项           显示红色提示：「该患者有过敏史，诊疗时请注意」
  ---------------------------- ----------------------------------------------------

**【校验与提示】**

  ---------------------- ------------------------------------------------
  **场景**               **提示信息**

  手机号已存在           该手机号已存在患者档案 \[张三\]，是否查看？→
                         \[查看详情\] \[继续新建\]

  身份证号已存在         该身份证号已存在患者档案
                         \[张三\]，是否需要合并？→ \[查看详情\]
                         \[继续新建\]

  手机号格式错误         请输入正确的11位手机号

  身份证格式错误         请输入正确的18位身份证号

  姓名过短               姓名至少需要2个字符
  ---------------------- ------------------------------------------------

**【保存逻辑】**

-   点击「保存」：校验通过后保存，关闭弹窗，刷新列表

-   点击「保存并继续」：校验通过后保存，清空表单，保留来源渠道，继续录入下一个

-   点击「取消」：如有修改，弹出确认「是否放弃已填写的内容？」

**【编辑模式差异】**

-   标题变为「编辑患者」

-   患者编号显示但不可编辑

-   手机号修改需要发送验证码确认（如原号码有效）

-   隐藏「保存并继续」按钮

3\. 预约登记表单

3.1 表单概述

  --------------- ------------------------------------------------------------------
  **属性**        **说明**

  表单编号        F-APT-001

  表单名称        新建预约

  触发入口        预约日历「新建预约」按钮、日历空白时段双击、患者详情「预约」按钮

  展示方式        右侧抽屉（宽度500px）

  预填数据        从日历进入：预填医生和时间；从患者进入：预填患者
  --------------- ------------------------------------------------------------------

3.2 表单布局

┌─────────────────────────────────────────────────┐

│ 新建预约 \[×\] │

├─────────────────────────────────────────────────┤

│ │

│ \* 患者 \[🔍 输入姓名/手机号搜索\_\_\_\_\_\_\_\_\_\_\_\_\] │

│ ┌──────────────────────────────────┐ │

│ │ 搜索结果下拉： │ │

│ │ 张三 138\*\*\*\*1234 最近:2026-01-10 │ │

│ │ 张小明 139\*\*\*\*5678 最近:2025-12 │ │

│ │ ─────────────────────────────── │ │

│ │ \[+ 新建患者\] │ │

│ └──────────────────────────────────┘ │

│ │

│ ────────── 已选患者信息 ────────── │

│ │ \[头像\] 张三 男 35岁 VIP │ │

│ │ 过敏：青霉素 ⚠️ │ │

│ │ 最近就诊：2026-01-10 洁牙 │ │

│ └──────────────────────────────────────────┘ │

│ │

│ \* 预约日期 \[2026-01-20 ▼\] 周一 │

│ │

│ \* 医生 \[张医生 ▼\] │

│ │

│ \* 时段选择 │

│ ┌───────────────────────────────────────┐ │

│ │ 上午 │ │

│ │ \[09:00\] \[09:30\] \[10:00\] \[10:30\] │ │

│ │ 可选 可选 ██已约██ 可选 │ │

│ │ \[11:00\] \[11:30\] │ │

│ │ 可选 可选 │ │

│ │ ───────────────────────────────────── │ │

│ │ 下午 │ │

│ │ \[14:00\] \[14:30\] \[15:00\] \[15:30\] │ │

│ │ 可选 ██选中██ 可选 可选 │ │

│ │ \[16:00\] \[16:30\] \[17:00\] \[17:30\] │ │

│ │ 可选 可选 可选 休息 │ │

│ └───────────────────────────────────────┘ │

│ │

│ 椅位 \[1号椅 ▼\] （可选，不选则系统分配） │

│ │

│ 预约项目 \[洁牙 ▼\] │

│ │

│ 就诊类型 ○初诊 ●复诊 │

│ │

│ 预计时长 \[30\] 分钟 │

│ │

│ 备注
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\] │

│ \[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\] │

│ │

├─────────────────────────────────────────────────┤

│ \[取消\] \[确认预约\] │

└─────────────────────────────────────────────────┘

3.3 字段详细定义

  ---------- ------------ ---------- ------------------------------ ---------------------- -----------------------------
  **字段**   **类型**     **必填**   **校验/选项**                  **默认值**             **说明**

  患者       搜索选择     是         输入≥2字符开始搜索             ---                    显示姓名+手机后4位+最近就诊

  预约日期   日期选择     是         只能选今天及之后的有排班日期   今天或下一个工作日     选择后刷新可选时段

  医生       下拉选择     是         显示当日有排班的医生           ---                    选择后刷新可选时段

  时段       时段选择器   是         只能选可用时段                 ---                    特殊组件，见下方说明

  椅位       下拉选择     否         显示当前时段空闲椅位           自动分配               

  预约项目   下拉选择     否         收费项目列表                   ---                    选择后自动设置预计时长

  就诊类型   单选按钮     是         初诊/复诊                      根据患者历史自动判断   

  预计时长   数字输入     否         最小15，最大240                30                     单位：分钟

  备注       文本域       否         最长500字符                    ---                    特殊要求等
  ---------- ------------ ---------- ------------------------------ ---------------------- -----------------------------

3.4 时段选择器设计

**【视觉设计】**

  ------------- ------------ ----------- ------------------ ----------------
  **状态**      **背景色**   **边框**    **文字**           **可点击**

  可选          #FFFFFF      #E0E0E0     #333333            是

  已选中        #4472C4      #2B579A     #FFFFFF            是（取消选中）

  已被预约      #F5F5F5      #E0E0E0     #999999 + 患者名   否

  休息/不出诊   #F5F5F5      无          #CCCCCC 斜线       否
  ------------- ------------ ----------- ------------------ ----------------

**【交互说明】**

-   点击可选时段：选中，高亮显示

-   点击已选中时段：取消选中

-   悬停已被预约时段：Tooltip显示预约患者和项目

-   选择预计时长\>30分钟：自动选中连续时段，不足则提示

3.5 联动与校验

  ------------------ ---------------------------------------------------------------------
  **触发**           **联动效果**

  选择患者           显示患者信息卡片；自动判断就诊类型（有历史=复诊）；如有过敏显示警示

  选择日期           刷新医生下拉选项（仅显示当日有排班的医生）

  选择医生           刷新时段选择器（显示该医生当日排班时段及预约情况）

  选择预约项目       自动填入预计时长（如洁牙=30分钟，根管=60分钟）

  修改预计时长       如时长\>30分钟，需要选择连续的多个时段
  ------------------ ---------------------------------------------------------------------

**【校验规则】**

-   同一患者同一天不能重复预约（提示：该患者当天已有预约，是否查看？）

-   时段已被其他患者预约（时段置灰，不可选择）

-   患者连续爽约≥3次（警告提示，可继续预约）

4\. 病历编辑表单

4.1 表单概述

  --------------- -------------------------------------------------------
  **属性**        **说明**

  表单编号        F-MED-001

  表单名称        病历编辑

  触发入口        接诊工作站「写病历」、患者详情-就诊记录「编辑病历」

  展示方式        全屏弹窗 或 页面（根据场景）

  数据来源        关联就诊记录、患者信息自动带入
  --------------- -------------------------------------------------------

4.2 表单布局

┌────────────────────────────────────────────────────────────────────┐

│ 病历编辑 - 张三 2026-01-17 \[保存草稿\] \[提交\] │

├──────────────────────────────────┬─────────────────────────────────┤

│ │ 患者信息 │

│ ┌─ 就诊信息 ─────────────────┐ │ ┌─────────────────────────────┐│

│ │ 就诊日期 \[2026-01-17\] │ │ │ 张三 男 35岁 ││

│ │ 就诊类型 ○初诊 ●复诊 │ │ │ 过敏：青霉素 ⚠️ ││

│ │ 接诊医生 \[张医生 ▼\] │ │ │ 病史：高血压 ││

│ └─────────────────────────────┘ │ │ 用药：拜阿司匹林 ││

│ │ └─────────────────────────────┘│

│ ┌─ 主诉 \* ────────────────────┐│ │

│ │ \[右下后牙疼痛3天，进食时加 \]││ 牙位图（简化版） │

│ │ \[重\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]│
┌─────────────────────────────┐│

│ │ 50/500 ││ │ 恒牙牙位图快捷视图 ││

│ │ 模板: \[洁牙▼\] \[拔牙\] \[补牙\] ││ │ 点击可选择牙位 ││

│ └─────────────────────────────┘│ └─────────────────────────────┘│

│ │ │

│ ┌─ 现病史 ────────────────────┐│ 历史病历 │

│ │ \[3天前开始出现右下后牙疼痛 \]││ ┌─────────────────────────────┐│

│ │ \[冷热刺激痛，夜间痛\_\_\_\_\_\_\_\_ \]││ │ 2026-01-10 洁牙 \[展开\]
││

│ └─────────────────────────────┘││ │ 2025-12-15 补牙46 \[展开\] ││

│ ││ │ 2025-10-20 拔牙48 \[展开\] ││

│ ┌─ 检查 \* ────────────────────┐││ └─────────────────────────────┘│

│ │ \[46远中邻面龋坏，探诊(+)， \]││ │

│ │ \[叩诊(-)，冷热诊敏感\_\_\_\_\_\_\_ \]││ 快捷短语 │

│ │ ││ ┌─────────────────────────────┐│

│ │ 关联牙位 \[46 ×\] \[+ 选择牙位\]││ │ 探诊(+) 探诊(-) ││

│ └─────────────────────────────┘││ │ 叩诊(+) 叩诊(-) ││

│ ││ │ 冷诊(+) 冷诊(-) ││

│ ┌─ 辅助检查 ──────────────────┐││ │ 热诊(+) 热诊(-) ││

│ │ \[X光显示46远中龋坏近髓\_\_\_\_\_ \]││ │ \... ││

│ │ 关联影像 \[+ 选择影像\] ││ └─────────────────────────────┘│

│ └─────────────────────────────┘││ │

│ ││ │

│ ┌─ 诊断 \* ────────────────────┐││ │

│ │ \[46慢性牙髓炎\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]││ │

│ │ ICD-10 \[🔍 K04.0 牙髓炎 ×\] ││ │

│ └─────────────────────────────┘││ │

│ ││ │

│ ┌─ 治疗 \* ────────────────────┐││ │

│ │ \[1.局麻下行46开髓引流\_\_\_\_\_\_\_ \]││ │

│ │ \[2.开放引流，嘱患者勿患侧咀嚼\]││ │

│ │ 治疗项目 \[根管治疗 ×\] \[+\] ││ │

│ └─────────────────────────────┘││ │

│ ││ │

│ ┌─ 医嘱 ──────────────────────┐││ │

│ │ \[1.口服消炎药3天\_\_\_\_\_\_\_\_\_\_\_\_ \]││ │

│ │ \[2.避免患侧咀嚼\_\_\_\_\_\_\_\_\_\_\_\_\_ \]││ │

│ │ \[3.如疼痛加剧及时复诊\_\_\_\_\_\_\_ \]││ │

│ └─────────────────────────────┘││ │

│ ││ │

│ ┌─ 复诊安排 ──────────────────┐││ │

│ │ 下次复诊 \[2026-01-24\] ││ │

│ │ 复诊说明 \[根管预备\_\_\_\_\_\_\_\_\_\_\]││ │

│ │ □ 自动创建复诊提醒 ││ │

│ └─────────────────────────────┘││ │

└──────────────────────────────────┴─────────────────────────────────┘

4.3 字段详细定义

就诊信息组

  ----------- ----------- ---------- -------------------------------- --------------------------
  **字段**    **类型**    **必填**   **校验/选项**                    **默认值**

  就诊日期    日期选择    是         默认今天，可选历史日期（补录）   当天

  就诊类型    单选按钮    是         初诊/复诊                        根据患者就诊历史自动判断

  接诊医生    下拉选择    是         当前门店医生列表                 当前登录医生
  ----------- ----------- ---------- -------------------------------- --------------------------

SOAP病历内容组

  ----------- ----------------- ---------- --------------------------------------------
  **字段**    **类型**          **必填**   **校验/说明**

  主诉(S)     富文本            是         10-500字符；支持模板插入；描述患者主观感受

  现病史      富文本            否         疾病发生、发展过程

  检查(O)     富文本            是         客观检查发现；支持关联牙位

  辅助检查    富文本+影像选择   否         X光、CT等检查结果；可关联影像

  诊断(A)     富文本+ICD-10     是         诊断结论；必须选择ICD-10诊断编码

  治疗(P)     富文本+项目选择   是         治疗操作记录；关联收费项目

  医嘱        富文本            否         术后注意事项
  ----------- ----------------- ---------- --------------------------------------------

复诊安排组

  ------------------ ----------- ---------- --------------------------------------
  **字段**           **类型**    **必填**   **说明**

  下次复诊日期       日期选择    否         建议复诊日期

  复诊说明           文本输入    否         复诊内容说明

  自动创建复诊提醒   复选框      否         勾选后系统自动创建随访任务
  ------------------ ----------- ---------- --------------------------------------

4.4 富文本编辑器功能

**【工具栏】**

-   基础格式：加粗、斜体、下划线

-   列表：有序列表、无序列表

-   特殊插入：模板（/触发）、牙位、快捷短语

-   历史引用：引用历史病历内容

**【模板插入】**

-   输入 / 触发模板选择菜单

-   显示：系统模板、科室模板、我的模板 分类

-   选择模板后内容插入到光标位置

**【快捷短语】**

-   右侧面板显示常用短语

-   点击短语直接插入到当前焦点输入框

-   支持自定义短语

4.5 牙位选择交互

-   点击「+ 选择牙位」弹出牙位选择器

-   选中的牙位以Tag形式显示，可删除

-   牙位自动同步到患者的牙位状态历史

4.6 保存与提交

**【保存草稿】**

-   任意时刻可保存草稿

-   草稿不触发完整校验

-   草稿状态在病历列表显示「草稿」标签

**【提交】**

-   触发完整校验（主诉、检查、诊断、治疗必填）

-   触发质控检查，显示质控问题

-   质控「错误」级别问题必须修正

-   提交后24小时内可修改，超时需审批

**【质控检查项】**

  --------------- ---------- ----------------------------------------------
  **检查项**      **级别**   **规则**

  主诉完整性      错误       主诉不能为空且≥10字符

  诊断规范性      警告       诊断需关联ICD-10编码

  牙位明确性      警告       涉及牙齿的治疗需明确牙位

  治疗关联性      警告       治疗内容需关联收费项目

  签名完整        错误       需有医生电子签名
  --------------- ---------- ----------------------------------------------

5\. 收费开单表单

5.1 表单概述

  --------------- --------------------------------------------------------------
  **属性**        **说明**

  表单编号        F-CHG-001

  表单名称        收费开单

  触发入口        患者详情「收费」、接诊工作站「收费」、收费管理「新建收费单」

  展示方式        独立页面

  数据来源        从病历进入时自动带入治疗项目
  --------------- --------------------------------------------------------------

5.2 表单布局

┌────────────────────────────────────────────────────────────────────┐

│ ← 返回 收费开单 │

├────────────────────────────────────────────┬───────────────────────┤

│ │ │

│ 患者 \[🔍 搜索患者\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\] │ 费用汇总
│

│ │ ─────────────────── │

│ ┌─ 已选患者 ─────────────────────────┐ │ │

│ │ \[头像\] 张三 男 VIP会员(95折) │ │ 原价合计 ¥1,200.00 │

│ │ 余额: ¥500.00 积分: 1,200 │ │ │

│ └───────────────────────────────────────┘ │ 会员折扣 -¥60.00 │

│ │ 优惠券 -¥50.00 │

│ ┌─ 收费项目 ─────────────────────────────┐│ 手动减免 -¥0.00 │

│ │ ││ ─────────────────── │

│ │ ┌────┬────┬────┬────┬────┬────┬────┐ ││ 应付金额 │

│ │ │项目│牙位│数量│单价│折扣│小计│操作│ ││ ¥1,090.00 │

│ │ ├────┼────┼────┼────┼────┼────┼────┤ ││ （大写：壹仟零玖拾元）│

│ │ │洁牙│--- │ 1 │300 │95% │285 │ 🗑 │ ││ │

│ │ │树脂│\[16\]│ 2 │400 │95% │760 │ 🗑 │ ││ ─────────────────── │

│ │ │ │ │ │ │ │ │ │ ││ │

│ │ └────┴────┴────┴────┴────┴────┴────┘ ││ 支付方式 │

│ │ ││ ┌───────────────────┐│

│ │ \[+ 添加项目\] ││ │ ○ 微信支付 ││

│ │ ││ │ ○ 支付宝 ││

│ └────────────────────────────────────────┘│ │ ○ 现金 ││

│ │ │ ○ 银行卡 ││

│ ┌─ 优惠信息 ─────────────────────────────┐│ │ ○ 储值卡 (¥500) ││

│ │ ││ │ ○ 医保 ││

│ │ 整单折扣 \[\_\_\_\] % 或 减免 ¥\[\_\_\_\] ││ │ ○ 组合支付 ││

│ │ 减免原因 \[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\] ││ │ ○ 挂账 ││

│ │ ││ └───────────────────┘│

│ │ 优惠券 \[选择优惠券 ▼\] 已选: 满1000减50 ││ │

│ │ ││ ┌───────────────────┐│

│ └────────────────────────────────────────┘│ │ \[使用优惠券\] ││

│ │ └───────────────────┘│

│ 备注
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\] │ │

│ │ │

├────────────────────────────────────────────┴───────────────────────┤

│ \[取消\] \[确认收款 ¥1,090\] │

└────────────────────────────────────────────────────────────────────┘

5.3 收费项目明细表

**【表格列定义】**

  ----------- ---------- ----------- ----------------------------------------
  **列名**    **宽度**   **类型**    **说明**

  项目名称    200px      搜索下拉    搜索或下拉选择收费项目

  关联牙位    100px      牙位选择    点击弹出牙位选择器，显示为Tag

  数量        80px       数字输入    最小1，整数

  单价        100px      数字输入    自动带出默认价格，可修改

  折扣        80px       数字输入    百分比，默认为会员折扣率

  小计        100px      自动计算    数量×单价×折扣，不可编辑

  执行医生    100px      下拉选择    默认接诊医生

  操作        50px       删除按钮    删除该行
  ----------- ---------- ----------- ----------------------------------------

**【添加项目交互】**

-   点击「+ 添加项目」在表格底部新增一行

-   项目名称输入框获得焦点，可搜索或下拉选择

-   选择项目后自动填入单价、单位

-   支持快捷键：Tab切换字段，Enter确认并新增下一行

5.4 优惠计算规则

**【计算顺序】**

1\. 原价合计 = Σ(数量 × 单价)

2\. 项目折扣后 = Σ(数量 × 单价 × 项目折扣率)

3\. 会员折扣后 = 项目折扣后 × 会员折扣率（如有）

4\. 优惠券抵扣 = 会员折扣后 - 优惠券金额（不能为负）

5\. 手动减免后 = 优惠券抵扣后 - 手动减免金额

6\. 应付金额 = max(手动减免后, 0)

**【减免审批】**

  ---------------------- ------------------------------------------------
  **减免金额**           **审批要求**

  ≤100元                 无需审批，前台可直接操作

  100-500元              需主管审批

  \>500元                需院长审批
  ---------------------- ------------------------------------------------

5.5 支付方式交互

**【单一支付】**

-   选择一种支付方式后，点击「确认收款」

-   微信/支付宝：弹出收款二维码，等待支付

-   现金：弹出收款确认框，输入实收金额，计算找零

-   储值卡：直接扣减余额，余额不足提示

**【组合支付】**

-   选择「组合支付」后，展开多种支付方式输入框

-   每种方式输入支付金额

-   合计必须等于应付金额

-   按顺序完成各支付方式确认

┌─ 组合支付 ────────────────────────────────┐

│ │

│ 储值卡 ¥\[500.00\] （余额¥500.00） │

│ 微信 ¥\[590.00\] │

│ ─────────────────────────────────────── │

│ 合计 ¥1,090.00 = 应付 ¥1,090.00 ✓ │

│ │

└───────────────────────────────────────────┘

6\. 治疗方案表单

6.1 表单概述

  --------------- -------------------------------------------------------
  **属性**        **说明**

  表单编号        F-MED-002

  表单名称        治疗方案

  触发入口        患者详情-治疗方案「新建方案」、接诊工作站「制定方案」

  展示方式        全屏弹窗或独立页面

  适用场景        需要多次就诊的复杂治疗，如正畸、种植、全口修复
  --------------- -------------------------------------------------------

6.2 表单布局

┌────────────────────────────────────────────────────────────────────┐

│ 新建治疗方案 - 张三 \[保存草稿\] \[保存方案\] │

├────────────────────────────────────────────────────────────────────┤

│ │

│ 方案名称 \* \[右上后牙种植修复方案\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]
│

│ │

│ 关联牙位 \* \[14 ×\] \[15 ×\] \[16 ×\] \[+ 选择牙位\] │

│ │

│ ┌─ 治疗阶段 ──────────────────────────────────────────────────┐ │

│ │ │ │

│ │ 阶段1: 种植体植入 \[删除阶段\] │ │

│ │ ┌────────────────────────────────────────────────────────┐│ │

│ │ │ 预计时间 \[2026-02-01\] ││ │

│ │ │ ││ │

│ │ │ ┌────────┬────────┬────┬────────┬────────┬──────────┐││ │

│ │ │ │项目 │牙位 │数量│单价 │小计 │操作 │││ │

│ │ │ ├────────┼────────┼────┼────────┼────────┼──────────┤││ │

│ │ │ │种植体 │14 │ 1 │8,000 │8,000 │ 🗑 │││ │

│ │ │ │种植体 │15 │ 1 │8,000 │8,000 │ 🗑 │││ │

│ │ │ │种植体 │16 │ 1 │8,000 │8,000 │ 🗑 │││ │

│ │ │ └────────┴────────┴────┴────────┴────────┴──────────┘││ │

│ │ │ \[+ 添加项目\] 阶段小计: ¥24,000 ││ │

│ │ └────────────────────────────────────────────────────────┘│ │

│ │ │ │

│ │ 阶段2: 愈合期复查 \[删除阶段\] │ │

│ │ ┌────────────────────────────────────────────────────────┐│ │

│ │ │ 预计时间 \[2026-05-01\] ││ │

│ │ │ ┌────────┬────────┬────┬────────┬────────┬──────────┐││ │

│ │ │ │复查 │--- │ 1 │0 │0 │ 🗑 │││ │

│ │ │ └────────┴────────┴────┴────────┴────────┴──────────┘││ │

│ │ │ \[+ 添加项目\] 阶段小计: ¥0 ││ │

│ │ └────────────────────────────────────────────────────────┘│ │

│ │ │ │

│ │ 阶段3: 牙冠修复 \[删除阶段\] │ │

│ │ ┌────────────────────────────────────────────────────────┐│ │

│ │ │ 预计时间 \[2026-05-15\] ││ │

│ │ │ \... 项目列表 \... ││ │

│ │ │ 阶段小计: ¥12,000 ││ │

│ │ └────────────────────────────────────────────────────────┘│ │

│ │ │ │

│ │ \[+ 添加阶段\] │ │

│ │ │ │

│ └──────────────────────────────────────────────────────────────┘ │

│ │

│ ┌─ 费用汇总 ──────────────────────────────────────────────────┐ │

│ │ 方案总价: ¥36,000 整体折扣: \[90\] % 折后价: ¥32,400 │ │

│ └──────────────────────────────────────────────────────────────┘ │

│ │

│ 方案说明
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]
│

│
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]
│

│ │

└────────────────────────────────────────────────────────────────────┘

6.3 字段定义

  ----------- ------------ ---------- ------------------------------------------
  **字段**    **类型**     **必填**   **说明**

  方案名称    文本输入     是         如「右上后牙种植修复方案」

  关联牙位    牙位选择器   是         方案涉及的所有牙位

  治疗阶段    阶段列表     是         至少1个阶段

  阶段名称    文本输入     是         如「种植体植入」「牙冠修复」

  预计时间    日期选择     否         该阶段预计执行时间

  阶段项目    项目列表     是         每阶段至少1个项目

  整体折扣    数字输入     否         整个方案的折扣率

  方案说明    文本域       否         治疗注意事项、风险告知等
  ----------- ------------ ---------- ------------------------------------------

6.4 阶段管理交互

-   点击「+ 添加阶段」新增一个空阶段

-   阶段支持拖拽排序（显示拖拽手柄）

-   点击「删除阶段」需确认，如阶段已执行则不可删除

-   每个阶段可独立添加项目

-   阶段小计和方案总价实时计算

6.5 方案确认流程

-   医生创建方案后，方案状态为「待确认」

-   与患者沟通方案内容和费用

-   患者确认后，点击「患者确认」按钮

-   可选：患者电子签名（手写板或上传签名图片）

-   确认后方案状态变为「已确认」，可开始执行

7\. 处方表单

7.1 表单概述

  --------------- -------------------------------------------------------
  **属性**        **说明**

  表单编号        F-MED-003

  表单名称        处方开具

  触发入口        接诊工作站「开处方」、病历编辑「开处方」

  展示方式        弹窗（宽度700px）

  合规要求        符合《处方管理办法》
  --------------- -------------------------------------------------------

7.2 表单布局

┌─────────────────────────────────────────────────────────────┐

│ 处方笺 \[×\] │

├─────────────────────────────────────────────────────────────┤

│ │

│ 患者: 张三 性别: 男 年龄: 35岁 │

│ 过敏史: 青霉素 ⚠️ │

│ 临床诊断: 46慢性牙髓炎 │

│ │

│ ───────────────────────────────────────────────────────── │

│ │

│ Rp: │

│ ┌───────────────────────────────────────────────────────┐ │

│ │ 药品名称 规格 用法 用量 天数 操作│ │

│ ├───────────────────────────────────────────────────────┤ │

│ │ 阿莫西林胶囊 0.25g×24 口服 tid 1粒/次 3天 🗑 │ │

│ │ 布洛芬缓释胶囊 0.3g×20 口服 bid 1粒/次 3天 🗑 │ │

│ │ 复方氯己定含漱液 200ml 含漱 tid 10ml/次 5天 🗑 │ │

│ └───────────────────────────────────────────────────────┘ │

│ │

│ \[🔍 搜索药品添加\_\_\_\_\_\_\_\_\_\_\_\] 或 \[选择常用处方 ▼\] │

│ │

│ ───────────────────────────────────────────────────────── │

│ │

│ 医嘱:
\[饭后服用，如有不适及时停药\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]
│

│ │

│ 处方医师: 张医生 日期: 2026-01-17 │

│ │

├─────────────────────────────────────────────────────────────┤

│ \[取消\] \[打印处方\] \[保存并发药\] │

└─────────────────────────────────────────────────────────────┘

7.3 药品录入

**【字段定义】**

  ----------- ----------- ---------- ------------------------------------------
  **字段**    **类型**    **必填**   **说明**

  药品名称    搜索选择    是         搜索药品库，显示通用名+规格

  规格        自动带入    是         选择药品后自动填入

  用法        下拉选择    是         口服/外用/含漱/舌下含服等

  频次        下拉选择    是         qd/bid/tid/qid/prn等

  用量        文本输入    是         如「1粒」「2片」「10ml」

  天数        数字输入    是         用药天数

  数量        自动计算    ---        根据频次×用量×天数计算
  ----------- ----------- ---------- ------------------------------------------

**【常用处方模板】**

-   系统预设常用处方组合（如「术后消炎止痛」）

-   选择模板后自动添加模板中的药品

-   医生可保存自己的常用处方

**【用药警示】**

-   选择药品时检查患者过敏史

-   如药品成分与过敏史匹配，显示红色警告

-   需医生确认后才能继续添加

8\. 库存入库表单

8.1 表单概述

  --------------- -------------------------------------------------------
  **属性**        **说明**

  表单编号        F-INV-001

  表单名称        入库单

  触发入口        库存管理「入库」

  展示方式        独立页面

  关联单据        可关联采购单
  --------------- -------------------------------------------------------

8.2 表单布局

┌────────────────────────────────────────────────────────────────────┐

│ ← 返回 新建入库单 │

├────────────────────────────────────────────────────────────────────┤

│ │

│ 入库单号 RK202601170001（自动生成） 入库日期 \[2026-01-17\] │

│ │

│ 供应商 \* \[搜索或选择供应商\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_▼\] │

│ │

│ 关联采购单 \[PO202601150001 ▼\]（可选） │

│ │

│ ┌─ 入库明细 ─────────────────────────────────────────────────┐ │

│ │ │ │

│ │ ┌────────┬────────┬────┬────────┬────────┬────────┬────┐ │ │

│ │ │物资名称│规格 │单位│批次号 │有效期 │数量 │单价│ │ │

│ │ ├────────┼────────┼────┼────────┼────────┼────────┼────┤ │ │

│ │ │树脂 │3M Z350 │支 │B202601 │2027-12 │ 20 │150 │ │ │

│ │ │手套 │M码 │盒 │--- │2026-06 │ 50 │ 25 │ │ │

│ │ │麻药 │碧兰麻 │支 │B202512 │2026-12 │ 100 │ 15 │ │ │

│ │ └────────┴────────┴────┴────────┴────────┴────────┴────┘ │ │

│ │ │ │

│ │ \[🔍 搜索物资添加\_\_\_\_\_\_\_\_\_\_\_\] │ │

│ │ │ │

│ │ 合计数量: 170 合计金额: ¥6,250│ │

│ └─────────────────────────────────────────────────────────────┘ │

│ │

│ 备注
\[\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\]
│

│ │

├────────────────────────────────────────────────────────────────────┤

│ \[取消\] \[保存草稿\] \[确认入库\] │

└────────────────────────────────────────────────────────────────────┘

8.3 字段定义

  ------------ ----------- ---------- ------------------------------------------
  **字段**     **类型**    **必填**   **校验/说明**

  入库单号     自动生成    ---        格式：RK+日期+序号，不可编辑

  入库日期     日期选择    是         默认今天

  供应商       搜索下拉    是         从供应商库选择

  关联采购单   下拉选择    否         选择后自动带入采购物资

  物资名称     搜索下拉    是         从物资目录选择

  规格         自动带入    ---        选择物资后自动填入

  批次号       文本输入    视情况     需效期管理的物资必填

  有效期       日期选择    视情况     需效期管理的物资必填

  数量         数字输入    是         正整数

  单价         数字输入    是         入库单价，保留2位小数
  ------------ ----------- ---------- ------------------------------------------

**【效期管理提示】**

-   物资标记为「需效期管理」时，批次号和有效期变为必填

-   有效期≤30天时显示黄色警告

-   有效期已过显示红色错误，不允许入库

9\. 表单清单汇总

  ----------- --------------- ----------- -------------- ----------
  **编号**    **表单名称**    **模块**    **展示方式**   **页数**

  F-PAT-001   新建/编辑患者   患者中心    弹窗700px      P.5-8

  F-PAT-002   患者健康信息    患者中心    Tab页内        ---

  F-APT-001   新建预约        预约挂号    抽屉500px      P.9-11

  F-APT-002   排班设置        预约挂号    弹窗600px      ---

  F-MED-001   病历编辑        诊疗服务    全屏/页面      P.12-15

  F-MED-002   治疗方案        诊疗服务    全屏/页面      P.16-18

  F-MED-003   处方开具        诊疗服务    弹窗700px      P.19-20

  F-MED-004   技工单          诊疗服务    弹窗600px      ---

  F-CHG-001   收费开单        收费管理    独立页面       P.12-15

  F-CHG-002   退费申请        收费管理    弹窗500px      ---

  F-INV-001   入库单          库存管理    独立页面       P.21-22

  F-INV-002   出库单          库存管理    独立页面       ---

  F-INV-003   盘点单          库存管理    独立页面       ---

  F-SYS-001   员工信息        系统管理    弹窗600px      ---

  F-SYS-002   角色权限        系统管理    独立页面       ---
  ----------- --------------- ----------- -------------- ----------

💡 *标注「---」的表单结构类似已详细说明的表单，可参考同类表单设计。*

--- 文档结束 ---
